<div id="disqus-container">
  {{ with hugo.DisqusShortname }}
    <button id="disqus-button" onclick="showComments()">{{ T "discuss_show_comments_button" }}</button>
    <div id="disqus-comments">
      {{ $isDummyName := eq . "yourdiscussshortname" }}
      {{ $isServer := $.Site.IsServer }}
      {{ if or $isDummyName $isServer }}
        <p><em>{{ T "discuss_comments_disabled" }}</em></p>
        <script type="application/javascript">
          function showComments() {
            {{ partial "disqus-js-common.js" . | safeJS }}
          }
        </script>
      {{ else }}
        <div id="disqus_thread">
        </div>
        <script type="application/javascript">
          function showComments() {
            {{ partial "disqus-js-main.js" . | safeJS }}
            {{ partial "disqus-js-common.js" . | safeJS }}
          }
        </script>
      {{ end }}
      <noscript>{{ T "discuss_js_disabled" }}</noscript>
    </div>
  {{ end }}
</div>
